---
layout: post
title: 用 GnuCash 記帳 Accounting with GnuCash - 2
date: '2011-03-15T23:39:00.000+08:00'
author: mjtsai
tags: finance
modified_time: '2011-03-18T08:45:13.701+08:00'
blogger_id: tag:blogger.com,1999:blog-6729751024593483406.post-3223713469971449961
blogger_orig_url: https://mongala-memo.blogspot.com/2011/03/gnucash-accounting-with-gnucash-2.html
---

[GnuCash進階教學－股票篇（1）](http://blog.xuite.net/michaelr/linux/23599287)

我是看上面的教學學習怎麼紀錄股票帳目的，他講的就不再贅述，這裡是將每種股票都分別列一個項目來紀錄，我關心的只是如何紀錄交易的獲利、虧損、配息以及如何結算，但我沒有信用交易的經驗，這裡不提，此外，還有一項小小的外幣記帳心得，只有記帳才會注意到，哇，原來手續費和證交稅就可以花費這麼多錢。
<!--more-->



首先只要有交易，券商都會收取手續費，但是證交稅只有賣出時才會收，這兩項都列入花費，因此，買進時的付出=股票總值+手續費，賣出時得到的錢=股票總值-手續費-證交稅，毛利或毛損就會等於賣出股票總值-買入股票總值，一開始紀錄時我很瀟灑的覺得，我就是要用最嚴格的方法來紀錄我的獲利損失，因此利潤(收入)或損失(花費)是以賣出時所得-買入時付出，到後來結算時才發現這樣是錯誤的。


利潤或損失=賣出所得-買入所得=(股票出售-手續費1-證交稅)-(股票買入+手續費2) = (股票出售-股票買入) - 手續費1-手續費2-證交稅，不管是利潤或是損失都要登記在等號右邊，但是可以發現，手續費和證交稅在紀錄的時候就已經登記在花費項目了，要是有獲利，則等號右邊就會是-2(手續費1+手續費2+證交稅)；要是損失則等號右邊為0，造成計算上錯誤，因此比較好的作法還是先算毛利、毛損，最後再扣掉這些花費得到淨利、淨損。

那麼該怎麼紀錄獲利損失呢？假設已經知道如何記錄現金和股票之間的轉換，有兩點需要注意，一是資產價值如何測量，是以新台幣為單位，股票本身並無法知道他的價值(壁紙XD)，股票還是要以新台幣衡量價值後才能夠反應在資產上，因此如果是持有股票，不管持有多少，當下的資產是不會變的；二是股票和現金都是資產項目，都是等號左邊項，股票和現金轉換會記錄一筆，相對的，等號右邊項也必須要反應出來，就是獲利和虧損，只是每一筆記錄都是一個轉換，記錄了獲利或虧損，另一邊要轉換給誰呢？答案是轉換至股票本身，但是這項是一個虛項，就像前面講的，登記成股票不會反應到以新台幣計價的資產總值上，(這邊的說明只是我自己的想法，不一定是正式的會計原則)，因此等號右邊剛好可以反映資產的變化。

$$
\begin{array} {rclcl}
cash\_old & \rightarrow & stock(hidden) & =  & \\
cash\_new & \leftarrow & stock(hidden) & = & \\
 & & stock(hidden) & = & gain\ or\ loss \\
(ignore\ tax\ and\ others\ cost) &&&\\
cash\_new -  cash\_old &&& = & gain\ or\ loss
\end{array}
$$

接著是結算，封關後第一次結算，以後應該也是農曆年封關當作一個年度結束，我是以封關日的收盤價當作結算價，以此來認列盈虧，這才體會到何謂認列，新的年度以封關價格當作股票價格繼續累計，但是沒有賣出，因此不可以轉換成現金結算，我自己是新增一個叫封關的項目，以新台幣計價，將所有股票假性賣出，以取得資產總值，順便計算盈虧，新的年度就不以封關當作open balance，而是以股票當作剛開始的資產，以封關價當成股票的買入價。

$$
\begin{array} {rclcl}
cash\_old & \rightarrow & stock(hidden) & = &\\
封關 & \leftarrow & stock(hidden) & = & \\
封關 - cash\_old &&& = & gain\ or\ loss
\end{array}
$$
